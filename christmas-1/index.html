<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Hand Interaction</title>
    <link rel="stylesheet" href="style.css">
    <!-- MediaPipe Libraries -->
    <script src="https://unpkg.com/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@mediapipe/selfie_segmentation/selfie_segmentation.js" crossorigin="anonymous"></script>
    <!-- Three.js Import Map -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
      }
    </script>
</head>
    <div id="loading">
        <div class="spinner"></div>
        <p>æ­£åœ¨åŠ è½½é­”æ³•ä¸–ç•Œ...</p>
        <div id="loading-bar-container" style="width: 200px; height: 6px; background: #333; margin-top: 10px; border-radius: 3px; overflow: hidden;">
            <div id="loading-bar" style="width: 0%; height: 100%; background: #FFD700; transition: width 0.3s;"></div>
        </div>
        <p id="loading-percent" style="font-size: 12px; color: #888; margin-top: 5px;">0%</p>
    </div>

    <div id="info" style="display: none;">
        <h3>ç©æ³•è¯´æ˜</h3>
        <p>1. <b>å †åœ£è¯æ ‘</b>ï¼šåš"O"å‹å˜´åæ³¡æ³¡ï¼Œæ³¡æ³¡ä¼šç´¯ç§¯æˆæ ‘ã€‚</p>
        <p>2. <b>å˜èº«</b>ï¼šå †å®Œåï¼Œåš âœŠæ¡æ‹³ -> âœ‹å¼ å¼€ æ‰‹åŠ¿ï¼Œæ³¡æ³¡ç‚¸å¼€å˜æˆç²’å­åœ£è¯æ ‘ã€‚</p>
    </div>

    <!-- è®¸æ„¿è¾“å…¥æ¡†åŒºåŸŸ -->
    <div id="wish-container" style="display: none;">
        <input type="text" id="wish-input" placeholder="è¾“å…¥ä½ çš„æ„¿æœ›..." maxlength="20">
        <button id="wish-btn">ğŸ†</button>
    </div>

    <div id="controls">
        <button id="tree-btn" class="control-btn">ğŸ„å¼€å§‹</button>
        <button id="spoon-btn" class="control-btn" style="margin-top: 10px;">ğŸ’¡å¼€å§‹</button>
    </div>

    <div id="video-container">
        <video id="input-video"></video>
        <canvas id="underwater-canvas"></canvas>
    </div>
    
    <!-- 3D Scene Canvas -->
    <canvas id="three-canvas"></canvas>

    <script type="module" src="main.js?v=27"></script>
</body>
</html>